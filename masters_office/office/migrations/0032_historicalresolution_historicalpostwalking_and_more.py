# Generated by Django 4.2.6 on 2024-03-30 09:15

from django.conf import settings
from django.db import migrations, models
import django.db.models.deletion
import simple_history.models


class Migration(migrations.Migration):

    dependencies = [
        migrations.swappable_dependency(settings.AUTH_USER_MODEL),
        ('office', '0031_staticblock'),
    ]

    operations = [
        migrations.CreateModel(
            name='HistoricalResolution',
            fields=[
                ('id', models.BigIntegerField(auto_created=True, blank=True, db_index=True, verbose_name='ID')),
                ('text', models.TextField(verbose_name='Текст резолюции')),
                ('created', models.DateTimeField(blank=True, editable=False, verbose_name='Дата создания резолюции')),
                ('viewed', models.BooleanField(default=False, verbose_name='Резолюция просмотрена')),
                ('history_id', models.AutoField(primary_key=True, serialize=False)),
                ('history_date', models.DateTimeField(db_index=True)),
                ('history_change_reason', models.CharField(max_length=100, null=True)),
                ('history_type', models.CharField(choices=[('+', 'Created'), ('~', 'Changed'), ('-', 'Deleted')], max_length=1)),
                ('author', models.ForeignKey(blank=True, db_constraint=False, null=True, on_delete=django.db.models.deletion.DO_NOTHING, related_name='+', to=settings.AUTH_USER_MODEL, verbose_name='Автор')),
                ('history_user', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='+', to=settings.AUTH_USER_MODEL)),
                ('post_walking', models.ForeignKey(blank=True, db_constraint=False, null=True, on_delete=django.db.models.deletion.DO_NOTHING, related_name='+', to='office.postwalking', verbose_name='Резолюция для записи')),
            ],
            options={
                'verbose_name': 'historical Резолюция',
                'verbose_name_plural': 'historical Резолюции',
                'ordering': ('-history_date', '-history_id'),
                'get_latest_by': ('history_date', 'history_id'),
            },
            bases=(simple_history.models.HistoricalChanges, models.Model),
        ),
        migrations.CreateModel(
            name='HistoricalPostWalking',
            fields=[
                ('id', models.BigIntegerField(auto_created=True, blank=True, db_index=True, verbose_name='ID')),
                ('time_create', models.DateTimeField(blank=True, editable=False, verbose_name='Дата создания')),
                ('time_update', models.DateTimeField(blank=True, editable=False, verbose_name='Дата редактирования')),
                ('number_post', models.PositiveIntegerField(verbose_name='Номер записи')),
                ('walk_date', models.DateField(help_text='Введите дату в формате "ДД.ММ.ГГГГ"', verbose_name='Дата обхода')),
                ('planned', models.BooleanField(default=True, verbose_name='Плановый')),
                ('not_planned', models.BooleanField(default=False, verbose_name='Внеплановый')),
                ('task', models.TextField(default='Обход тепловой сети', max_length=250, verbose_name='Участок теплотрассы, задание мастера')),
                ('text', models.TextField(verbose_name='Замечания, выявленные при обходе')),
                ('plan', models.TextField(blank=True, default='---', verbose_name='Организационные мероприятия по устранению')),
                ('fix_date', models.DateField(blank=True, help_text='При отсутствии замечаний не заполняется', null=True, verbose_name='Дата устранения замечания')),
                ('transfer', models.CharField(blank=True, default='---', max_length=150, verbose_name='Перенос на ремонт в план на следующий месяц или на межотопительный период')),
                ('is_deleted', models.BooleanField(default=False, verbose_name='Удаленная запись')),
                ('is_edit', models.BooleanField(default=False, verbose_name='Редактировано')),
                ('history_id', models.AutoField(primary_key=True, serialize=False)),
                ('history_date', models.DateTimeField(db_index=True)),
                ('history_change_reason', models.CharField(max_length=100, null=True)),
                ('history_type', models.CharField(choices=[('+', 'Created'), ('~', 'Changed'), ('-', 'Deleted')], max_length=1)),
                ('author', models.ForeignKey(blank=True, db_constraint=False, null=True, on_delete=django.db.models.deletion.DO_NOTHING, related_name='+', to=settings.AUTH_USER_MODEL, verbose_name='Автор')),
                ('district', models.ForeignKey(blank=True, db_constraint=False, null=True, on_delete=django.db.models.deletion.DO_NOTHING, related_name='+', to='office.district', verbose_name='источник')),
                ('history_user', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='+', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'historical Запись в журнале обхода',
                'verbose_name_plural': 'historical Записи в журналах обходов',
                'ordering': ('-history_date', '-history_id'),
                'get_latest_by': ('history_date', 'history_id'),
            },
            bases=(simple_history.models.HistoricalChanges, models.Model),
        ),
        migrations.CreateModel(
            name='HistoricalPostRepairWork',
            fields=[
                ('id', models.BigIntegerField(auto_created=True, blank=True, db_index=True, verbose_name='ID')),
                ('time_create', models.DateTimeField(blank=True, editable=False, verbose_name='Дата создания')),
                ('time_update', models.DateTimeField(blank=True, editable=False, verbose_name='Дата редактирования')),
                ('number_post', models.PositiveIntegerField(db_index=True, verbose_name='Номер записи')),
                ('order', models.CharField(choices=[('Наряд', 'Наряд'), ('Распоряжение', 'Распоряжение')], help_text='наряду или распоряжению', max_length=30, verbose_name='Работы по')),
                ('number_order', models.PositiveIntegerField(verbose_name='Номер распоряжения/наряда')),
                ('adress', models.CharField(max_length=200, verbose_name='Адрес (объект)')),
                ('description', models.TextField(verbose_name='Выполненные работы')),
                ('date_start_working', models.DateTimeField(verbose_name='Дата начала работ')),
                ('date_end_working', models.DateTimeField(verbose_name='Дата окончания работ')),
                ('is_deleted', models.BooleanField(default=False, verbose_name='Удаленная запись')),
                ('is_edit', models.BooleanField(default=False, verbose_name='Редактировано')),
                ('history_id', models.AutoField(primary_key=True, serialize=False)),
                ('history_date', models.DateTimeField(db_index=True)),
                ('history_change_reason', models.CharField(max_length=100, null=True)),
                ('history_type', models.CharField(choices=[('+', 'Created'), ('~', 'Changed'), ('-', 'Deleted')], max_length=1)),
                ('author', models.ForeignKey(blank=True, db_constraint=False, null=True, on_delete=django.db.models.deletion.DO_NOTHING, related_name='+', to=settings.AUTH_USER_MODEL, verbose_name='Автор')),
                ('district', models.ForeignKey(blank=True, db_constraint=False, null=True, on_delete=django.db.models.deletion.DO_NOTHING, related_name='+', to='office.district', verbose_name='источник (район)')),
                ('history_user', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='+', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'historical Запись в журнале ремонтных работ',
                'verbose_name_plural': 'historical Записи в журнале ремонтных работ',
                'ordering': ('-history_date', '-history_id'),
                'get_latest_by': ('history_date', 'history_id'),
            },
            bases=(simple_history.models.HistoricalChanges, models.Model),
        ),
        migrations.CreateModel(
            name='HistoricalPostOrder',
            fields=[
                ('id', models.BigIntegerField(auto_created=True, blank=True, db_index=True, verbose_name='ID')),
                ('time_create', models.DateTimeField(blank=True, editable=False, verbose_name='Дата создания')),
                ('time_update', models.DateTimeField(blank=True, editable=False, verbose_name='Дата редактирования')),
                ('number_post', models.PositiveIntegerField(db_index=True, verbose_name='Номер записи')),
                ('order', models.CharField(choices=[('Наряд', 'Наряд'), ('Распоряжение', 'Распоряжение')], help_text='Номер присваивается автоматически', max_length=30, verbose_name='Наряд/распоряжение')),
                ('number_order', models.PositiveIntegerField(verbose_name='Номер наряда/распоряжения')),
                ('description', models.TextField(verbose_name='Наименование работ')),
                ('date_start_working', models.DateTimeField(verbose_name='К работе приступили')),
                ('date_end_working', models.DateTimeField(blank=True, null=True, verbose_name='Работа закончена')),
                ('is_deleted', models.BooleanField(default=False, verbose_name='Удаленная запись')),
                ('history_id', models.AutoField(primary_key=True, serialize=False)),
                ('history_date', models.DateTimeField(db_index=True)),
                ('history_change_reason', models.CharField(max_length=100, null=True)),
                ('history_type', models.CharField(choices=[('+', 'Created'), ('~', 'Changed'), ('-', 'Deleted')], max_length=1)),
                ('author', models.ForeignKey(blank=True, db_constraint=False, null=True, on_delete=django.db.models.deletion.DO_NOTHING, related_name='+', to=settings.AUTH_USER_MODEL, verbose_name='Автор')),
                ('district', models.ForeignKey(blank=True, db_constraint=False, null=True, on_delete=django.db.models.deletion.DO_NOTHING, related_name='+', to='office.district', verbose_name='источник (район)')),
                ('foreman', models.ForeignKey(blank=True, db_constraint=False, null=True, on_delete=django.db.models.deletion.DO_NOTHING, related_name='+', to='office.personal', verbose_name='Производитель работ')),
                ('history_user', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='+', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'historical Запись в журнале учета работ по нарядам и распоряжениям',
                'verbose_name_plural': 'historical Записи в журнале учета работ по нарядам и распоряжениям',
                'ordering': ('-history_date', '-history_id'),
                'get_latest_by': ('history_date', 'history_id'),
            },
            bases=(simple_history.models.HistoricalChanges, models.Model),
        ),
        migrations.CreateModel(
            name='HistoricalPosition',
            fields=[
                ('id', models.BigIntegerField(auto_created=True, blank=True, db_index=True, verbose_name='ID')),
                ('name_position', models.CharField(max_length=50, verbose_name='Должность')),
                ('walker', models.BooleanField(verbose_name='Может участвовать в обходах')),
                ('history_id', models.AutoField(primary_key=True, serialize=False)),
                ('history_date', models.DateTimeField(db_index=True)),
                ('history_change_reason', models.CharField(max_length=100, null=True)),
                ('history_type', models.CharField(choices=[('+', 'Created'), ('~', 'Changed'), ('-', 'Deleted')], max_length=1)),
                ('history_user', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='+', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'historical Должность',
                'verbose_name_plural': 'historical Должности',
                'ordering': ('-history_date', '-history_id'),
                'get_latest_by': ('history_date', 'history_id'),
            },
            bases=(simple_history.models.HistoricalChanges, models.Model),
        ),
        migrations.CreateModel(
            name='HistoricalPersonal',
            fields=[
                ('id', models.BigIntegerField(auto_created=True, blank=True, db_index=True, verbose_name='ID')),
                ('first_name', models.CharField(max_length=50, verbose_name='Имя')),
                ('last_name', models.CharField(max_length=50, verbose_name='Фамилия')),
                ('middle_name', models.CharField(max_length=50, verbose_name='Отчество')),
                ('rank', models.IntegerField(blank=True, choices=[(1, 1), (2, 2), (3, 3), (4, 4), (5, 5), (6, 6), (7, 7)], null=True, verbose_name='Разряд')),
                ('tab_number', models.IntegerField(db_index=True, verbose_name='Табельный номер')),
                ('foreman', models.BooleanField(default=False, verbose_name='Может быть производителем работ')),
                ('history_id', models.AutoField(primary_key=True, serialize=False)),
                ('history_date', models.DateTimeField(db_index=True)),
                ('history_change_reason', models.CharField(max_length=100, null=True)),
                ('history_type', models.CharField(choices=[('+', 'Created'), ('~', 'Changed'), ('-', 'Deleted')], max_length=1)),
                ('energy_district', models.ForeignKey(blank=True, db_constraint=False, null=True, on_delete=django.db.models.deletion.DO_NOTHING, related_name='+', to='office.energydistrict', verbose_name='Энергорайон')),
                ('history_user', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='+', to=settings.AUTH_USER_MODEL)),
                ('position', models.ForeignKey(blank=True, db_constraint=False, null=True, on_delete=django.db.models.deletion.DO_NOTHING, related_name='+', to='office.position', verbose_name='Должность')),
            ],
            options={
                'verbose_name': 'historical Работник',
                'verbose_name_plural': 'historical Работники',
                'ordering': ('-history_date', '-history_id'),
                'get_latest_by': ('history_date', 'history_id'),
            },
            bases=(simple_history.models.HistoricalChanges, models.Model),
        ),
        migrations.CreateModel(
            name='HistoricalEnergyDistrict',
            fields=[
                ('id', models.BigIntegerField(auto_created=True, blank=True, db_index=True, verbose_name='ID')),
                ('title', models.CharField(db_index=True, max_length=35, verbose_name='Энергорайон')),
                ('history_id', models.AutoField(primary_key=True, serialize=False)),
                ('history_date', models.DateTimeField(db_index=True)),
                ('history_change_reason', models.CharField(max_length=100, null=True)),
                ('history_type', models.CharField(choices=[('+', 'Created'), ('~', 'Changed'), ('-', 'Deleted')], max_length=1)),
                ('history_user', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='+', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'historical Энергорайон',
                'verbose_name_plural': 'historical Энергорайоны',
                'ordering': ('-history_date', '-history_id'),
                'get_latest_by': ('history_date', 'history_id'),
            },
            bases=(simple_history.models.HistoricalChanges, models.Model),
        ),
        migrations.CreateModel(
            name='HistoricalDistrict',
            fields=[
                ('id', models.BigIntegerField(auto_created=True, blank=True, db_index=True, verbose_name='ID')),
                ('title', models.CharField(max_length=100, verbose_name='Источник тепла')),
                ('slug', models.SlugField()),
                ('history_id', models.AutoField(primary_key=True, serialize=False)),
                ('history_date', models.DateTimeField(db_index=True)),
                ('history_change_reason', models.CharField(max_length=100, null=True)),
                ('history_type', models.CharField(choices=[('+', 'Created'), ('~', 'Changed'), ('-', 'Deleted')], max_length=1)),
                ('energy_district', models.ForeignKey(blank=True, db_constraint=False, null=True, on_delete=django.db.models.deletion.DO_NOTHING, related_name='+', to='office.energydistrict', verbose_name='Энергорайон')),
                ('history_user', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='+', to=settings.AUTH_USER_MODEL)),
                ('master', models.ForeignKey(blank=True, db_constraint=False, null=True, on_delete=django.db.models.deletion.DO_NOTHING, related_name='+', to=settings.AUTH_USER_MODEL, verbose_name='Ответственный')),
            ],
            options={
                'verbose_name': 'historical Источник тепла',
                'verbose_name_plural': 'historical Источники тепла',
                'ordering': ('-history_date', '-history_id'),
                'get_latest_by': ('history_date', 'history_id'),
            },
            bases=(simple_history.models.HistoricalChanges, models.Model),
        ),
        migrations.CreateModel(
            name='HistoricalBrigade',
            fields=[
                ('id', models.BigIntegerField(auto_created=True, blank=True, db_index=True, verbose_name='ID')),
                ('number', models.PositiveIntegerField(db_index=True, verbose_name='Номер бригады')),
                ('history_id', models.AutoField(primary_key=True, serialize=False)),
                ('history_date', models.DateTimeField(db_index=True)),
                ('history_change_reason', models.CharField(max_length=100, null=True)),
                ('history_type', models.CharField(choices=[('+', 'Created'), ('~', 'Changed'), ('-', 'Deleted')], max_length=1)),
                ('brigadier', models.ForeignKey(blank=True, db_constraint=False, null=True, on_delete=django.db.models.deletion.DO_NOTHING, related_name='+', to='office.personal', verbose_name='Бригадир')),
                ('history_user', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='+', to=settings.AUTH_USER_MODEL)),
                ('master', models.ForeignKey(blank=True, db_constraint=False, null=True, on_delete=django.db.models.deletion.DO_NOTHING, related_name='+', to=settings.AUTH_USER_MODEL, verbose_name='Бригада мастера')),
            ],
            options={
                'verbose_name': 'historical Бригада',
                'verbose_name_plural': 'historical Бригады',
                'ordering': ('-history_date', '-history_id'),
                'get_latest_by': ('history_date', 'history_id'),
            },
            bases=(simple_history.models.HistoricalChanges, models.Model),
        ),
    ]
